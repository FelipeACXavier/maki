{
  "name": "Mission",
  "author": "Felipe Xavier",
  "libraries": [
    {
      "type": "structure",
      "nodes": [
        {
          "type": "Component",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#202020",
            "borderColor": "#FFFFFF",
            "width": 250,
            "height": 250,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Component"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#202020"
            }
          ],
          "controls": [
            {
              "id": "Add event",
              "type": "add event"
            },
            {
              "id": "Add state",
              "type": "add state"
            }
          ],
          "events": [
            {
              "id": "start",
              "type": "in",
              "returnType": "void",
              "modifiable": true
            },
            {
              "id": "abort",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "done",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "failed",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            }
          ]
        },
        {
          "type": "Siren",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#c45335",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Siren"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#c45335"
            },
            {
              "id": "type",
              "type": "string",
              "default": "sync"
            }
          ],
          "events": [
            {
              "id": "start",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "stop",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            }
          ]
        },
        {
          "type": "Grip",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#cc7a3d",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Grip"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#cc7a3d"
            },
            {
              "id": "type",
              "type": "string",
              "default": "action \"/handler/action\" \"std_msgs::String\""
            },
            {
              "id": "arguments",
              "type": "list",
              "default": [
                {
                  "id": "grip",
                  "type": "boolean"
                }
              ]
            }
          ],
          "events": [
            {
              "id": "handle",
              "type": "in",
              "returnType": "void",
              "modifiable": false,
              "arguments": [
                {
                  "id": "grip",
                  "type": "boolean"
                }
              ]
            },
            {
              "id": "cancel",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "handled",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "failed",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            }
          ]
        },
        {
          "type": "Vision",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#e6c994",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Vision"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#e6c994"
            },
            {
              "id": "type",
              "type": "string",
              "default": "action \"/recognize\" \"std_msgs::String\""
            }
          ],
          "events": [
            {
              "id": "recognize",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "cancel",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "found",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            }
          ]
        },
        {
          "type": "Drive",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#74a892",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Drive"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#74a892"
            },
            {
              "id": "type",
              "type": "string",
              "default": "action \"/navigate_to_pose\" \"nav2_msgs::action::NavigateToPose::Goal\""
            },
            {
              "id": "arguments",
              "type": "list",
              "default": [
                {
                  "id": "x",
                  "type": "float"
                },
                {
                  "id": "y",
                  "type": "float"
                }
              ]
            }
          ],
          "events": [
            {
              "id": "to_position",
              "type": "in",
              "returnType": "void",
              "modifiable": false,
              "arguments": [
                  {
                    "id": "x",
                    "type": "float"
                  },
                  {
                    "id": "y",
                    "type": "float"
                  }
              ]
            },
            {
              "id": "abort",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "in_position",
              "type": "out",
              "returnType": "void",
              "modifiable": false,
              "arguments": [
                  {
                    "id": "x",
                    "type": "float"
                  },
                  {
                    "id": "y",
                    "type": "float"
                  }
              ]
            },
            {
              "id": "path_blocked",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            }
          ]
        },
        {
          "type": "Timer",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#008585",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Timer"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#008585"
            }
          ],
          "controls": [
            {
              "id": "Add event",
              "type": "add event"
            }
          ],
          "events": [
            {
              "id": "set",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "reset",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "timeout",
              "type": "out",
              "returnType": "void",
              "modifiable": true
            }
          ]
        },
        {
          "type": "Bridge",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#bb2c1e",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Bridge"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#bb2c1e"
            },
            {
              "id": "type",
              "type": "string",
              "default": "service \"\/poll\" \"\""
            },
            {
              "id": "arguments",
              "type": "list",
              "default": [
                {
                  "id": "zone",
                  "type": "string"
                }
              ]
            }
          ],
          "events": [
            {
              "id": "poll",
              "type": "in",
              "returnType": "void",
              "modifiable": false,
              "arguments": [
                  {
                    "id": "zone",
                    "type": "string"
                  }
              ]
            }
          ]
        },
        {
          "type": "Co2Sensor",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#d73800",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Co2Sensor"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#d73800"
            },
            {
              "id": "type",
              "type": "string",
              "default": "service \"co2/normal\" \"\""
            }
          ],
          "events": [
            {
              "id": "normal",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "high",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            }
          ]
        },
        {
          "type": "EnvSensor",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#e5c185",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "EnvSensor"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#e5c185"
            },
            {
              "id": "type",
              "type": "string",
              "default": "service \"environment/empty\" \"\""
            }
          ],
          "events": [
            {
              "id": "empty",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "present",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            }
          ]
        },
        {
          "type": "Lighting",
          "body": {
            "shape": "Rectangle",
            "textColor": "#000000",
            "backgroundColor": "#fbf2c4",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Lighting"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#fbf2c4"
            },
            {
              "id": "type",
              "type": "string",
              "default": "service \"lighting/scene\" \"\""
            },
            {
              "id": "arguments",
              "type": "list",
              "default": [
                {
                  "id": "scene",
                  "type": "string"
                }
              ]
            }
          ],
          "events": [
            {
              "id": "set",
              "type": "in",
              "returnType": "void",
              "modifiable": false,
              "arguments": [
                {
                  "id": "scene",
                  "type": "string"
                }
              ]
            }
          ]
        },
        {
          "type": "Ventilation",
          "body": {
            "shape": "Rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#7ebb9c",
            "borderColor": "#FFFFFF",
            "width": 500,
            "height": 500,
            "z-index": -2
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Ventilation"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#7ebb9c"
            },
            {
              "id": "type",
              "type": "string",
              "default": "service \"ventilation\" \"{ \\\"cmd:\\\" \\\"up\\\" }\""
            },
            {
              "id": "arguments",
              "type": "list",
              "default": [
                {
                  "id": "up",
                  "type": "boolean"
                }
              ]
            }
          ],
          "events": [
            {
              "id": "solve",
              "type": "in",
              "returnType": "void",
              "modifiable": false,
              "arguments": [
                {
                  "id": "up",
                  "type": "boolean"
                }
              ]
            },
            {
              "id": "done",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "stop",
              "type": "in",
              "returnType": "void",
              "modifiable": false
            },
            {
              "id": "failed",
              "type": "out",
              "returnType": "void",
              "modifiable": false
            }
          ]
        }
      ]
    },
    {
      "type": "internal behaviour",
      "nodes": [
        {
          "type": "Start",
          "body": {
            "shape": "Ellipse",
            "textColor": "#FFFFFF",
            "backgroundColor": "#ffc300",
            "borderColor": "#FFFFFF",
            "width": 50,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Start"
            },
            {
              "id": "mode",
              "type": "select",
              "default": "signal",
              "options": [
                {
                  "id": "signal",
                  "type": "string"
                },
                {
                  "id": "timed",
                  "type": "string"
                }
              ]
            }
          ],
          "connectors": [
            {
              "id": "output",
              "type": "out",
              "position": "east"
            }
          ],
          "behaviour": {},
          "help": {
            "message": "Start of a behavioural flow. This can be a reaction to an event or a timed action"
          }
        },
        {
          "type": "End",
          "body": {
            "shape": "Ellipse",
            "textColor": "#FFFFFF",
            "backgroundColor": "#6a994e",
            "borderColor": "#FFFFFF",
            "width": 50,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "End"
            }
          ],
          "connectors": [
            {
              "id": "input",
              "type": "in",
              "position": "west"
            }
          ],
          "behaviour": {},
          "help": {
            "message": "End of a happy behavioural flow. This must always be present in a flow"
          }
        },
        {
          "type": "Error",
          "body": {
            "shape": "Ellipse",
            "textColor": "#FFFFFF",
            "backgroundColor": "#bc4749",
            "borderColor": "#FFFFFF",
            "width": 50,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Error"
            }
          ],
          "connectors": [
            {
              "id": "input",
              "type": "in",
              "position": "west"
            }
          ],
          "behaviour": {},
          "help": {
            "message": "End of an errored behavioural flow. This indicates the flow of a bad behaviour."
          }
        },
        {
          "type": "Async task",
          "body": {
            "shape": "rounded rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#202020",
            "borderColor": "#FFFFFF",
            "borderRadius": 10,
            "width": 100,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Async task"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#202020"
            },
            {
              "id": "component",
              "type": "component_select",
              "options": [
                {
                  "id": "argument",
                  "type": "string"
                }
              ]
            }
          ],
          "controls": []
        },
        {
          "type": "Sync task",
          "body": {
            "shape": "rounded rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#202020",
            "borderColor": "#FFFFFF",
            "borderRadius": 10,
            "width": 100,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Sync task"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#202020"
            },
            {
              "id": "component",
              "type": "component_select",
              "options": [
                {
                  "id": "event",
                  "type": "event_select"
                },
                {
                  "id": "argument",
                  "type": "string"
                }
              ]
            }
          ],
          "controls": []
        },
        {
          "type": "Strategy",
          "body": {
            "shape": "rounded rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#202020",
            "borderColor": "#FFFFFF",
            "borderRadius": 10,
            "width": 100,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Strategy"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#202020"
            },
            {
              "id": "component",
              "type": "component_select",
              "options": [
                {
                  "id": "event",
                  "type": "event_select"
                }
              ]
            }
          ],
          "controls": []
        },
        {
          "type": "Join",
          "body": {
            "shape": "Ellipse",
            "textColor": "#FFFFFF",
            "backgroundColor": "#74a892",
            "borderColor": "#FFFFFF",
            "width": 50,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Join"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#74a892"
            }
          ],
          "controls": []
        },
        {
          "type": "Within",
          "body": {
            "shape": "rounded rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#202020",
            "borderColor": "#FFFFFF",
            "borderRadius": 10,
            "width": 100,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Within"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#202020"
            },
            {
              "id": "timeout",
              "type": "int"
            }
          ],
          "behaviour": {},
          "help": {
            "message": "Performs the \"do\" strategy and if it does not conclude within the set time, it will trigger the \"else\" strategy."
          }
        },
        {
          "type": "Repeat",
          "body": {
            "shape": "rounded rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#202020",
            "borderColor": "#FFFFFF",
            "borderRadius": 10,
            "width": 200,
            "height": 100
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Repeat"
            },
            {
              "id": "component",
              "type": "component_select",
              "options": [
                {
                  "id": "event",
                  "type": "event_select"
                }
              ]
            }
          ],
          "behaviour": {},
          "help": {
            "message": "Repeats the contained strategy forever"
          }
        },
        {
          "type": "Every",
          "body": {
            "shape": "rounded rectangle",
            "textColor": "#FFFFFF",
            "backgroundColor": "#202020",
            "borderColor": "#FFFFFF",
            "borderRadius": 10,
            "width": 100,
            "height": 50
          },
          "properties": [
            {
              "id": "name",
              "type": "string",
              "default": "Every"
            },
            {
              "id": "color",
              "type": "color",
              "default": "#202020"
            },
            {
              "id": "rate",
              "type": "int"
            }
          ],
          "behaviour": {},
          "help": {
            "message": "Performs the \"do\" strategy and if it does not conclude within the set time, it will trigger the \"else\" strategy."
          }
        }
      ]
    }
  ]
}